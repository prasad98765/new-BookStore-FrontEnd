{"ast":null,"code":"var _jsxFileName = \"/home/admin1/Desktop/addBook/Final ebookStoreUI/eBookStoreUi/src/component/addToCart/addToCart.js\";\nimport React, { Component } from 'react';\nimport '../addToCart/addToCart.css';\nimport Customer from '../addToCart/customerDeatils';\nimport TopBar from \"../topbar/navbar\";\nimport { withRouter } from 'react-router-dom';\nimport Footer from \"../footer/footer\";\n\nclass CartIcon extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      if (this.state.getcodition === true) {// this.setState({ item : this.props.history.location.state})\n      } else {\n        console.log(\"in compount will amount\");\n        this.documentData = await JSON.parse(localStorage.getItem(\"document\"));\n\n        if (localStorage.getItem(\"document\")) {\n          this.setState({\n            item: this.documentData.value\n          });\n        }\n      }\n    };\n\n    this.componentWillReceiveProps = () => {\n      this.setState({\n        item: this.props.history.location.state\n      });\n    };\n\n    this.onClick = () => {\n      this.setState(this.state = {\n        hideForm: !this.state.hideForm\n      });\n    };\n\n    this.checkout = data => {\n      this.props.history.push({\n        pathname: '/checkout',\n        state: data\n      });\n    };\n\n    this.decrement = (i, price) => {\n      if (this.state.purchaseBookIndividualCount[i] !== undefined) {\n        if (this.state.purchaseBookIndividualCount[i] > 1) {\n          this.state.purchaseBookIndividualCount[i]--;\n          this.setState({\n            purchaseBookIndividualCount: this.state.purchaseBookIndividualCount\n          });\n          this.state.totalPrice = this.state.totalPrice - parseInt(price);\n          this.setState({\n            totalPrice: this.state.totalPrice\n          });\n        }\n      }\n    };\n\n    this.increment = (i, price) => {\n      if (this.state.purchaseBookIndividualCount[i] !== undefined) {\n        this.state.purchaseBookIndividualCount[i]++;\n        this.setState({\n          purchaseBookIndividualCount: this.state.purchaseBookIndividualCount\n        });\n        this.state.totalPrice = this.state.totalPrice + parseInt(price);\n        this.setState({\n          totalPrice: this.state.totalPrice\n        });\n      }\n    };\n\n    this.remove = (i, price) => {\n      this.state.totalPrice = this.state.totalPrice - parseInt(price) * this.state.purchaseBookIndividualCount[i];\n      this.setState({\n        totalPrice: this.state.totalPrice\n      });\n      this.state.item.splice(i, 1);\n      this.setState({\n        getcodition: false\n      });\n      this.setState({\n        item: this.state.item\n      });\n      localStorage.setItem(\"document\", JSON.stringify(this.state.item));\n    };\n\n    this.count = 1;\n    this.state = {\n      item: [\" \"],\n      purchaseBookIndividualCount: [],\n      getcodition: true,\n      totalPrice: 0,\n      hideForm: false,\n      callCustomer: null\n    };\n\n    if (this.state.getcodition === true) {\n      // this.setState({ item : this.props.history.location.state})\n      this.state.item = this.props.history.location.state;\n    } else {\n      this.documentData = JSON.parse(localStorage.getItem(\"document\"));\n\n      if (localStorage.getItem(\"document\")) {\n        this.setState({\n          item: this.documentData.value\n        });\n      }\n    } // this.state.item = this.props.history.location.state\n\n\n    this.props.history.location.state.map(item => {\n      {\n        this.state.totalPrice = this.state.totalPrice + item.Price;\n      }\n    });\n  }\n\n  render() {\n    var Books = this.props.history.location.state.map((item, i) => {\n      this.state.purchaseBookIndividualCount.push(1);\n\n      if (item != undefined) {\n        console.log(item.Title);\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cart-image1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"image\",\n          src: item.ImageURL,\n          style: {\n            height: \"80px\",\n            width: \"9.5%\",\n            marginLeft: \"-3%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"book-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, item.Title), React.createElement(\"div\", {\n          className: \"book-author\",\n          style: {\n            fontSize: \"70%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, item.Author), React.createElement(\"div\", {\n          className: \"book-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Rs.\", item.Price), React.createElement(\"div\", {\n          style: {\n            marginTop: \"6%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"minus\",\n          onClick: () => {\n            this.decrement(i, item.Price);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, \"-\"), React.createElement(\"input\", {\n          className: \"text\",\n          value: this.state.purchaseBookIndividualCount[i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"plus\",\n          onClick: () => {\n            this.increment(i, item.Price);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"+\"), React.createElement(\"button\", {\n          className: \"remove\",\n          onClick: () => {\n            this.remove(i, item.Price);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Remove\")))));\n      }\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        borderStyle: \"groove\",\n        marginLeft: \"17%\",\n        marginRight: \"10%\",\n        marginTop: \"2%\",\n        width: \"55%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cart-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"My Cart(\", this.state.item.length, \")\"), Books, React.createElement(\"div\", {\n      s: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"total-price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"totalprice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Total Price: Rs.\", this.state.totalPrice)), React.createElement(\"button\", {\n      className: \"place-order\",\n      onClick: this.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"PLACE ORDER \"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.item.length >= 1 & this.state.hideForm ? React.createElement(Customer, {\n      detail: this.state.item,\n      formDetails: this.state.hideForm,\n      checkout: this.checkout,\n      value: this.state.placeorder,\n      totalAmount: this.state.totalPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \" \", React.createElement(Customer, {\n      detail: this.state.item,\n      formDetails: this.state.hideForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(CartIcon);","map":{"version":3,"sources":["/home/admin1/Desktop/addBook/Final ebookStoreUI/eBookStoreUi/src/component/addToCart/addToCart.js"],"names":["React","Component","Customer","TopBar","withRouter","Footer","CartIcon","constructor","props","componentDidMount","state","getcodition","console","log","documentData","JSON","parse","localStorage","getItem","setState","item","value","componentWillReceiveProps","history","location","onClick","hideForm","checkout","data","push","pathname","decrement","i","price","purchaseBookIndividualCount","undefined","totalPrice","parseInt","increment","remove","splice","setItem","stringify","count","callCustomer","map","Price","render","Books","Title","ImageURL","height","width","marginLeft","fontSize","Author","marginTop","borderStyle","marginRight","length","placeorder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../addToCart/addToCart.css'\nimport Customer from '../addToCart/customerDeatils'\nimport TopBar from \"../topbar/navbar\";\nimport { withRouter } from 'react-router-dom';\nimport Footer from \"../footer/footer\";\nclass CartIcon extends Component {\n    constructor(props) {\n        super(props)\n        this.count = 1\n        this.state = {\n            item: [\" \"],\n            purchaseBookIndividualCount: [],\n            getcodition : true,\n            totalPrice: 0,\n            hideForm: false,\n            callCustomer: null, \n        }\n        if(this.state.getcodition === true ){\n            // this.setState({ item : this.props.history.location.state})\n            this.state.item = this.props.history.location.state\n        }else{\n            this.documentData = JSON.parse(localStorage.getItem(\"document\"));\n            if (localStorage.getItem(\"document\")) {\n              this.setState({\n                item: this.documentData.value\n              });\n            }\n        }\n        // this.state.item = this.props.history.location.state\n        this.props.history.location.state.map((item) => {\n            { this.state.totalPrice = this.state.totalPrice + item.Price }\n        })\n    }\n    componentDidMount = async () => {\n        if(this.state.getcodition === true ){\n            // this.setState({ item : this.props.history.location.state})\n        }else{\n            console.log(\"in compount will amount\");\n            \n            this.documentData = await JSON.parse(localStorage.getItem(\"document\"));\n            if (localStorage.getItem(\"document\")) {\n              this.setState({\n                item: this.documentData.value\n              });\n            }\n        }\n        \n    }\n\n    componentWillReceiveProps =() => {\n        this.setState({ item : this.props.history.location.state})\n    }\n\n    onClick = () => {\n        this.setState(this.state = { hideForm: !this.state.hideForm })\n    }\n\n    checkout = (data) => {\n        this.props.history.push( { pathname : '/checkout', state :data })\n    }\n\n    decrement = (i, price) => {\n        if (this.state.purchaseBookIndividualCount[i] !== undefined) {\n            if (this.state.purchaseBookIndividualCount[i] > 1) {\n                this.state.purchaseBookIndividualCount[i]--;\n                this.setState({ purchaseBookIndividualCount: this.state.purchaseBookIndividualCount });\n                this.state.totalPrice = this.state.totalPrice - parseInt(price);\n                this.setState({ totalPrice: this.state.totalPrice })\n            }\n        }\n    }\n\n    increment = (i, price) => {\n        if (this.state.purchaseBookIndividualCount[i] !== undefined) {\n            this.state.purchaseBookIndividualCount[i]++;\n            this.setState({ purchaseBookIndividualCount: this.state.purchaseBookIndividualCount });\n            this.state.totalPrice = this.state.totalPrice + parseInt(price);\n            this.setState({ totalPrice: this.state.totalPrice })\n        }\n    }\n\n\n    remove = (i, price) => {\n        this.state.totalPrice = this.state.totalPrice - (parseInt(price) * this.state.purchaseBookIndividualCount[i]);\n        this.setState({ totalPrice: this.state.totalPrice })\n        this.state.item.splice(i, 1);\n        this.setState({getcodition : false})\n        this.setState({ item: this.state.item })\n        localStorage.setItem(\"document\",JSON.stringify(this.state.item));\n    }\n    render() {\n        \n     var Books = this.props.history.location.state.map((item, i) => {\n            this.state.purchaseBookIndividualCount.push(1)\n            if (item != undefined) {\n                console.log(item.Title);\n                return (\n                    <div>\n                        <div className=\"cart-image1\">\n                            <img className=\"image\" src={item.ImageURL}\n                             style={{\n                                height: \"80px\",\n                                width: \"9.5%\",\n                                marginLeft: \"-3%\"\n                             }}></img>\n                             <div className=\"book-title\">\n                            <div >{item.Title}</div>\n                            <div className=\"book-author\"style={{fontSize:\"70%\"}}>{item.Author}</div>\n                                <div className=\"book-price\" >Rs.{item.Price}</div>\n                                <div style={{marginTop:\"6%\"}}>\n                                    <button className=\"minus\" onClick={() => { this.decrement(i, item.Price) }}>-</button>\n                                    <input className=\"text\" value={this.state.purchaseBookIndividualCount[i]} ></input>\n                                    <button className=\"plus\" onClick={() => { this.increment(i, item.Price) }}>+</button>\n                                    <button className=\"remove\" onClick={() => { this.remove(i, item.Price) }}>Remove</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n      })\n        return (\n            <div>\n                <TopBar></TopBar>\n            \n            <div>\n                <div style={{ borderStyle: \"groove\", marginLeft: \"17%\", marginRight: \"10%\", marginTop: \"2%\", width: \"55%\" }}>\n                    <div className=\"cart-title\">My Cart({this.state.item.length})</div>\n                    {Books}\n                    <div s>\n                    <div className=\"total-price\"><p id=\"totalprice\">Total Price: Rs.{this.state.totalPrice}</p></div>\n                    <button className=\"place-order\" onClick={this.onClick} >PLACE ORDER </button>\n                    </div>\n                </div>\n                <div>\n                    {this.state.item.length >= 1 & this.state.hideForm ?\n                        <Customer detail={this.state.item} formDetails={this.state.hideForm} checkout = {this.checkout} value = {this.state.placeorder} totalAmount = {this.state.totalPrice} />\n                        :\n                        <div> <Customer detail={this.state.item} formDetails={this.state.hideForm}  />\n                        </div>\n                    }\n                </div> \n\n            </div>\n            <Footer></Footer>\n            </div>\n        )\n    }\n}\nexport default withRouter(CartIcon);"]},"metadata":{},"sourceType":"module"}