{"ast":null,"code":"var _jsxFileName = \"/home/admin1/Desktop/new front End/new-BookStore-FrontEnd/src/component/FrontPage/BookStoreFirstPage.jsx\";\nimport React, { Component } from \"react\";\nimport ListOfBooks from \"../dashboard/listOfBooks\";\nimport TopBar from \"../topbar/navbar\";\nimport Sorting from \"../dropDownSorting/dropdown\";\nimport { withRouter } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport Image from \"/home/admin1/Desktop/new front End/new-BookStore-FrontEnd/src/Image/not found.png\";\nimport '../FrontPage/bookStoreFirstPage.css';\n\nvar APIcall = require(\"../../congfiguration/BookStoreCallAPI\");\n\nclass BookStoreFirstPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = async data => {\n      this.setState({\n        ALLBOOKS: []\n      });\n      this.setState({\n        ALLBOOKS: data\n      });\n      this.setState({\n        search: true\n      });\n\n      if (data == 0) {\n        this.setState({\n          search: false\n        });\n      }\n    };\n\n    this.handleChange = async (event, value) => {\n      await this.setState({\n        page: value\n      });\n      this.allBooks();\n      this.getSorting();\n    };\n\n    this.addToCart = value => {\n      if (!this.state.addToCart) {\n        this.homepage();\n      } else {\n        this.props.history.push({\n          pathname: \"/addToCart\",\n          state: this.state.addToCart\n        });\n      }\n    };\n\n    this.login = value => {\n      var documentData = JSON.parse(localStorage.getItem(\"add to Cart\"));\n\n      if (localStorage.getItem(\"add to Cart\")) {\n        this.setState({\n          addToCart: documentData\n        });\n      } else {}\n\n      this.props.history.push({\n        pathname: \"/login\",\n        state: this.state.addToCart\n      });\n    };\n\n    this.homepage = value => {\n      this.props.history.push({\n        pathname: \"/\"\n      });\n    };\n\n    this.getBookToaddToCart = value => {\n      this.setState({\n        addToCart: value\n      });\n      localStorage.setItem(\"add to Cart Books\", JSON.stringify(value));\n      this.setState({\n        count: this.state.count + 1\n      });\n    };\n\n    this.getBookToWishList = value => {\n      this.setState({\n        addToWishList: value\n      });\n      this.setState({\n        wishCount: this.setState.wishCount + 1\n      });\n    };\n\n    this.getSorting = async data => {\n      APIcall.getSortData({\n        field: this.state.sortfield || data,\n        page: this.state.page\n      }).then(async res => {\n        this.setState({\n          ALLBOOKS: []\n        });\n        await this.setState({\n          ALLBOOKS: res.data.data\n        });\n      });\n      await this.setState({\n        sortfield: data\n      });\n    };\n\n    this.state = {\n      sortfield: null,\n      page: 1,\n      ALLBOOKS: [],\n      addToWishList: null,\n      bookCount: false,\n      noOfRecord: null,\n      addToCart: null,\n      count: 0,\n      wishCount: 0,\n      search: true\n    };\n  }\n\n  allBooks() {\n    APIcall.getAllBooks({\n      page: this.state.page\n    }).then(res => {\n      this.setState({\n        ALLBOOKS: res.data\n      });\n    });\n  }\n\n  getNoCount() {\n    APIcall.getNoOFBookCount().then(res => {\n      this.setState({\n        noOfRecord: res.data.data\n      });\n    });\n  }\n\n  componentWillMount() {\n    this.allBooks();\n    this.getNoCount();\n  }\n\n  render() {\n    console.log(\"add TO Wish list \", this.state.addToWishList);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      bookList: this.state.ALLBOOKS,\n      value: this.handleSearch,\n      value1: this.addToCart,\n      wishList: this.state.addToWishList,\n      count: this.state.count,\n      wishCount: this.state.wishCount,\n      login: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Sorting, {\n      bookList: this.state.ALLBOOKS,\n      bookcount: this.state.noOfRecord,\n      value: this.handleSorting,\n      page: this.state.page,\n      search: this.state.search,\n      sort: this.getSorting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), this.state.search ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Image,\n      style: {\n        display: \"flex\",\n        marginLeft: \"25%\",\n        width: \"50%\",\n        height: \"500px\",\n        marginBottom: \"\",\n        marginTop: \"-10%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(ListOfBooks, {\n      bookList: this.state.ALLBOOKS,\n      handleChange: this.handleChange,\n      getBookToaddToCart: this.getBookToaddToCart,\n      getBookToWishList: this.getBookToWishList,\n      noOfRecord: this.state.noOfRecord,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(BookStoreFirstPage);","map":{"version":3,"sources":["/home/admin1/Desktop/new front End/new-BookStore-FrontEnd/src/component/FrontPage/BookStoreFirstPage.jsx"],"names":["React","Component","ListOfBooks","TopBar","Sorting","withRouter","Typography","Image","APIcall","require","BookStoreFirstPage","constructor","props","handleSearch","data","setState","ALLBOOKS","search","handleChange","event","value","page","allBooks","getSorting","addToCart","state","homepage","history","push","pathname","login","documentData","JSON","parse","localStorage","getItem","getBookToaddToCart","setItem","stringify","count","getBookToWishList","addToWishList","wishCount","getSortData","field","sortfield","then","res","bookCount","noOfRecord","getAllBooks","getNoCount","getNoOFBookCount","componentWillMount","render","console","log","handleSorting","display","marginLeft","width","height","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ListOfBooks from \"../dashboard/listOfBooks\";\nimport TopBar from \"../topbar/navbar\";\nimport Sorting from \"../dropDownSorting/dropdown\";\nimport { withRouter } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport Image from \"/home/admin1/Desktop/new front End/new-BookStore-FrontEnd/src/Image/not found.png\"\nimport '../FrontPage/bookStoreFirstPage.css'\nvar APIcall = require(\"../../congfiguration/BookStoreCallAPI\");\nclass BookStoreFirstPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sortfield: null,\n      page: 1,\n      ALLBOOKS: [],\n      addToWishList :null,\n      bookCount : false,\n      noOfRecord: null,\n      addToCart: null,\n      count: 0,\n      wishCount: 0,\n      search: true,\n    };\n  }\n\n  allBooks() {\n    APIcall.getAllBooks({ page: this.state.page }).then(res => {\n      this.setState({ ALLBOOKS: res.data });\n    });\n  }\n\n  getNoCount() {\n    APIcall.getNoOFBookCount().then(res => {\n      this.setState({ noOfRecord: res.data.data });\n    });\n  }\n\n  handleSearch = async data => {\n    this.setState({ ALLBOOKS: [] });\n    this.setState({ ALLBOOKS: data });\n    this.setState({ search: true });\n    if (data == 0) {\n      this.setState({ search: false });\n    }\n  };\n  handleChange = async (event, value) => {\n    await this.setState({ page: value });\n    this.allBooks();\n    this.getSorting();\n  };\n  componentWillMount() {\n    this.allBooks();\n    this.getNoCount();\n  }\n  addToCart = value => {\n    if (!this.state.addToCart) {\n      this.homepage()\n    } else {\n      this.props.history.push({\n        pathname: \"/addToCart\",\n        state: this.state.addToCart\n      });\n    }\n  };\n  login = value => {\n    var documentData = JSON.parse(localStorage.getItem(\"add to Cart\"));\n        if (localStorage.getItem(\"add to Cart\")) {\n            this.setState({addToCart : documentData})\n        }else{\n            \n        }\n    this.props.history.push({\n      pathname: \"/login\",\n      state: this.state.addToCart\n    });\n  };\n  \n  homepage = value => {\n    this.props.history.push({ pathname: \"/\" });\n  };\n  getBookToaddToCart = value => {\n    this.setState({ addToCart: value });\n    localStorage.setItem(\"add to Cart Books\",JSON.stringify(value));\n    this.setState({ count: this.state.count + 1 });\n  };\n  getBookToWishList = value => {\n    this.setState({ addToWishList: value });\n    this.setState({ wishCount: this.setState.wishCount + 1 });\n  };\n  getSorting = async data => {\n    APIcall.getSortData({\n      field: this.state.sortfield || data,\n      page: this.state.page\n    }).then(async res => {\n      this.setState({ ALLBOOKS: [] });\n      await this.setState({ ALLBOOKS: res.data.data });\n    });\n    await this.setState({ sortfield: data });\n  };\n\n  render() {\n    console.log(\"add TO Wish list \",this.state.addToWishList);\n    \n    return (\n      <div>\n        <TopBar\n          bookList={this.state.ALLBOOKS}\n          value={this.handleSearch}\n          value1={this.addToCart}\n          wishList = {this.state.addToWishList}\n          count={this.state.count}\n          wishCount={this.state.wishCount}\n          login={this.login}\n        />\n        <Sorting\n          bookList={this.state.ALLBOOKS}\n          bookcount={this.state.noOfRecord}\n          value={this.handleSorting}\n          page={this.state.page}\n          search={this.state.search}\n          sort={this.getSorting}\n        />\n        {this.state.search ? (\n          <div></div>\n        ) : (\n          <div>\n            <img src={Image}style={{display:\"flex\",marginLeft:\"25%\",width:\"50%\",height:\"500px\",marginBottom:\"\",marginTop:\"-10%\"}} ></img>\n          </div>\n        )}\n        <ListOfBooks\n          bookList={this.state.ALLBOOKS}\n          handleChange={this.handleChange}\n          \n          getBookToaddToCart={this.getBookToaddToCart}\n          getBookToWishList={this.getBookToWishList}\n          noOfRecord={this.state.noOfRecord}\n        />\n      </div>\n    );\n  }\n}\nexport default withRouter(BookStoreFirstPage);"]},"metadata":{},"sourceType":"module"}