{"ast":null,"code":"var _jsxFileName = \"/home/admin1/Desktop/FinalProject/new-BookStore-FrontEnd/src/component/FrontPage/BookStoreFirstPage.jsx\";\nimport React, { Component } from \"react\";\nimport ListOfBooks from \"../dashboard/listOfBooks\";\nimport TopBar from \"../topbar/navbar\";\nimport Sorting from \"../dropDownSorting/dropdown\";\nimport { withRouter } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport '../FrontPage/bookStoreFirstPage.css';\n\nvar APIcall = require(\"../../congfiguration/BookStoreCallAPI\");\n\nclass BookStoreFirstPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = async data => {\n      this.setState({\n        ALLBOOKS: []\n      });\n      this.setState({\n        ALLBOOKS: data\n      });\n      this.setState({\n        search: true\n      });\n\n      if (data == 0) {\n        this.setState({\n          search: false\n        });\n      }\n    };\n\n    this.handleChange = async (event, value) => {\n      await this.setState({\n        page: value\n      });\n      this.allBooks();\n      this.getSorting();\n    };\n\n    this.addToCart = value => {\n      if (!this.state.addToCart) {\n        this.homepage();\n      } else {\n        this.props.history.push({\n          pathname: \"/addToCart\",\n          state: this.state.addToCart\n        });\n      }\n    };\n\n    this.login = value => {\n      this.props.history.push({\n        pathname: \"/login\",\n        state: this.state.addToCart\n      });\n    };\n\n    this.homepage = value => {\n      this.props.history.push({\n        pathname: \"/\"\n      });\n    };\n\n    this.getBookToaddToCart = value => {\n      this.setState({\n        addToCart: value\n      });\n      this.setState({\n        count: this.state.count + 1\n      });\n    };\n\n    this.getBookToWishList = value => {\n      this.setState({\n        addToWishList: value\n      });\n      this.setState({\n        wishCount: this.setState.wishCount + 1\n      });\n    };\n\n    this.getSorting = async data => {\n      APIcall.getSortData({\n        field: this.state.sortfield || data,\n        page: this.state.page\n      }).then(async res => {\n        this.setState({\n          ALLBOOKS: []\n        });\n        await this.setState({\n          ALLBOOKS: res.data.data\n        });\n      });\n      await this.setState({\n        sortfield: data\n      });\n    };\n\n    this.state = {\n      sortfield: null,\n      page: 1,\n      ALLBOOKS: [],\n      noOfRecord: null,\n      addToCart: null,\n      count: 0,\n      wishCount: 0,\n      search: true\n    };\n  }\n\n  allBooks() {\n    APIcall.getAllBooks({\n      page: this.state.page\n    }).then(res => {\n      this.setState({\n        ALLBOOKS: res.data\n      });\n    });\n  }\n\n  getNoCount() {\n    APIcall.getNoOFBookCount().then(res => {\n      this.setState({\n        noOfRecord: res.data.data\n      });\n    });\n  }\n\n  componentWillMount() {\n    this.allBooks();\n    this.getNoCount();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      bookList: this.state.ALLBOOKS,\n      value: this.handleSearch,\n      value1: this.addToCart,\n      count: this.state.count,\n      wishCount: this.state.wishCount,\n      login: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Sorting, {\n      bookList: this.state.ALLBOOKS,\n      bookcount: this.state.noOfRecord,\n      value: this.handleSorting,\n      page: this.state.page,\n      sort: this.getSorting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), this.state.search ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"notFound\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"No Books Found\")), React.createElement(ListOfBooks, {\n      bookList: this.state.ALLBOOKS,\n      handleChange: this.handleChange,\n      getBookToaddToCart: this.getBookToaddToCart,\n      getBookToWishList: this.getBookToWishList,\n      noOfRecord: this.state.noOfRecord,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(BookStoreFirstPage);","map":{"version":3,"sources":["/home/admin1/Desktop/FinalProject/new-BookStore-FrontEnd/src/component/FrontPage/BookStoreFirstPage.jsx"],"names":["React","Component","ListOfBooks","TopBar","Sorting","withRouter","Typography","APIcall","require","BookStoreFirstPage","constructor","props","handleSearch","data","setState","ALLBOOKS","search","handleChange","event","value","page","allBooks","getSorting","addToCart","state","homepage","history","push","pathname","login","getBookToaddToCart","count","getBookToWishList","addToWishList","wishCount","getSortData","field","sortfield","then","res","noOfRecord","getAllBooks","getNoCount","getNoOFBookCount","componentWillMount","render","handleSorting"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ListOfBooks from \"../dashboard/listOfBooks\";\nimport TopBar from \"../topbar/navbar\";\nimport Sorting from \"../dropDownSorting/dropdown\";\nimport { withRouter } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport '../FrontPage/bookStoreFirstPage.css'\nvar APIcall = require(\"../../congfiguration/BookStoreCallAPI\");\nclass BookStoreFirstPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sortfield: null,\n      page: 1,\n      ALLBOOKS: [],\n      noOfRecord: null,\n      addToCart: null,\n      count: 0,\n      wishCount: 0,\n      search: true\n    };\n  }\n\n  allBooks() {\n    APIcall.getAllBooks({ page: this.state.page }).then(res => {\n      this.setState({ ALLBOOKS: res.data });\n    });\n  }\n\n  getNoCount() {\n    APIcall.getNoOFBookCount().then(res => {\n      this.setState({ noOfRecord: res.data.data });\n    });\n  }\n\n  handleSearch = async data => {\n    this.setState({ ALLBOOKS: [] });\n    this.setState({ ALLBOOKS: data });\n    this.setState({ search: true });\n    if (data == 0) {\n      this.setState({ search: false });\n    }\n  };\n  handleChange = async (event, value) => {\n    await this.setState({ page: value });\n    this.allBooks();\n    this.getSorting();\n  };\n  componentWillMount() {\n    this.allBooks();\n    this.getNoCount();\n  }\n  addToCart = value => {\n    if (!this.state.addToCart) {\n      this.homepage()\n    } else {\n      this.props.history.push({\n        pathname: \"/addToCart\",\n        state: this.state.addToCart\n      });\n    }\n  };\n  login = value => {\n    this.props.history.push({\n      pathname: \"/login\",\n      state: this.state.addToCart\n    });\n  };\n  \n  homepage = value => {\n    this.props.history.push({ pathname: \"/\" });\n  };\n  getBookToaddToCart = value => {\n    this.setState({ addToCart: value });\n    this.setState({ count: this.state.count + 1 });\n  };\n  getBookToWishList = value => {\n    this.setState({ addToWishList: value });\n    this.setState({ wishCount: this.setState.wishCount + 1 });\n  };\n  getSorting = async data => {\n    APIcall.getSortData({\n      field: this.state.sortfield || data,\n      page: this.state.page\n    }).then(async res => {\n      this.setState({ ALLBOOKS: [] });\n      await this.setState({ ALLBOOKS: res.data.data });\n    });\n    await this.setState({ sortfield: data });\n  };\n\n  render() {\n    return (\n      <div>\n        <TopBar\n          bookList={this.state.ALLBOOKS}\n          value={this.handleSearch}\n          value1={this.addToCart}\n          count={this.state.count}\n          wishCount={this.state.wishCount}\n          login={this.login}\n        />\n        <Sorting\n          bookList={this.state.ALLBOOKS}\n          bookcount={this.state.noOfRecord}\n          value={this.handleSorting}\n          page={this.state.page}\n          sort={this.getSorting}\n        />\n        {this.state.search ? (\n          <div></div>\n        ) : (\n          <div>\n            <Typography className=\"notFound\">No Books Found</Typography>\n          </div>\n        )}\n        <ListOfBooks\n          bookList={this.state.ALLBOOKS}\n          handleChange={this.handleChange}\n          \n          getBookToaddToCart={this.getBookToaddToCart}\n          getBookToWishList={this.getBookToWishList}\n          noOfRecord={this.state.noOfRecord}\n        />\n      </div>\n    );\n  }\n}\nexport default withRouter(BookStoreFirstPage);"]},"metadata":{},"sourceType":"module"}